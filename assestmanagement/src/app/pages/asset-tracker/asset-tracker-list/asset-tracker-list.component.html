<div class="card">
    <!-- <p-toast></p-toast> -->
    <p-toolbar styleClass="mb-4 gap-2">
        <!-- <ng-template pTemplate="left">
            <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2"
                ></button>
            <button pButton pRipple label="Delete" icon="pi pi-trash" class="p-button-danger"></button>
        </ng-template> -->
        <ng-template pTemplate="right" class="rightContent">
            <input type="text" [(ngModel)]="searchTxt" (input)="filterAssetTrackerData()" placeholder="Search" />


        </ng-template>
    </p-toolbar>


    <ng-template #editAssetTrackerDialog let-data="data" >
      <h2 mat-dialog-title>Edit Asset Tracker Details</h2>
      <mat-dialog-content class="mat-typography">
          <div class="container" *ngIf="tempAssetTrackerData" style="width: 100%;">
            <div class="row">
              <div class="col-md-4">
                <mat-label>Asset AssignId</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editAssetAssignId" [(ngModel)]="tempAssetTrackerData.assetAssignId" autocomplete="off" readonly />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <mat-label>Asset ID</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editAssetId" [(ngModel)]="tempAssetTrackerData.assetId" autocomplete="off" readonly />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <mat-label>Asset Name</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editAssetName" [(ngModel)]="tempAssetTrackerData.assetName" autocomplete="off" readonly />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <mat-label>Assign Date</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editAssignDate" [(ngModel)]="tempAssetTrackerData.assignDate" autocomplete="off" readonly />
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-label>Return Date</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput [matDatepicker]="picker" id="editReturnDate" autocomplete="off" readonly [(ngModel)]="tempAssetTrackerData.returnDate">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <mat-label>Employee Name</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editEmployeeName" [(ngModel)]="tempAssetTrackerData.employeeName" autocomplete="off" readonly />
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <mat-label>Remark</mat-label>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput id="editRemark" [(ngModel)]="tempAssetTrackerData.remark" autocomplete="off" />
                </mat-form-field>
              </div>
            </div>
          </div>
          
      </mat-dialog-content>

      <mat-dialog-actions align="end">
          <button mat-button mat-dialog-close (click)="displayDialog = false; onCancelEdit()">Cancel</button>
          <button mat-button color="primary" (click)="saveEditedVAssetTrackerData()" [disabled]="!tempAssetTrackerData">Save</button>
      </mat-dialog-actions>
  </ng-template>


    <!-- <mat-dialog-content>
        
          <div class="container">
            <div *ngIf="selectedAssetTrackerData">
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Asset AssignId</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editAssetAssignId" [(ngModel)]="selectedAssetTrackerData.assetAssignId" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Asset ID</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editAssetId" [(ngModel)]="selectedAssetTrackerData.assetId" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Asset Name</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editAssetName" [(ngModel)]="selectedAssetTrackerData.assetName" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Assign Date</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editAssignDate" [(ngModel)]="selectedAssetTrackerData.assignDate" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Return Date</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input type="date" matInput id="returnDate" [(ngModel)]="selectedAssetTrackerData.returnDate" class="asset-field" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Employee Id</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editEmployeeId" [(ngModel)]="selectedAssetTrackerData.employeeId" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Employee Name</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editEmployeeName" [(ngModel)]="selectedAssetTrackerData.employeeName" autocomplete="off" readonly />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-label>Remark</mat-label>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <input matInput id="editRemark" [(ngModel)]="selectedAssetTrackerData.remark" autocomplete="off" />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <mat-dialog-actions align="end">
          <button mat-button mat-dialog-close (click)="onCancelEdit()">Cancel</button>
        <button mat-button color="primary" (click)="saveEditedVAssetTrackerData()" [disabled]="!selectedAssetTrackerData">
          Save
        </button>
    </mat-dialog-actions>
      </mat-dialog-content> -->
      
      





    <p-table #dt [value]="assetTrackerFilterDatalist" [rows]="5" [paginator]="true"
        [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
        [tableStyle]="{ 'min-width': '75rem' }" [(selection)]="selectedAssetTrackerData" [rowHover]="true" dataKey="id"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true" 
        class="table table-hover" [class.table-dialog-blur]="blurTable" >
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 4rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th pSortableColumn="vendorId" style="min-width:15rem">AssetAssign Id <p-sortIcon
                        field="vendorId"></p-sortIcon></th>
                <th>Asset Id</th>
                <th pSortableColumn="vendorName">Asset Name <p-sortIcon></p-sortIcon></th>

                <th>EmployeeId</th>
                <th>EmployeeName</th>
                <th>Assign Date </th>
                <th>Return Date</th>
                <th>Remark</th>
                <th>Action</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-assetTrackerData let-i="index">
            <tr>
                <td>
                    <p-tableCheckbox [value]="assetTrackerData"></p-tableCheckbox>
                </td>
                <td>{{ assetTrackerData.assetAssignId }}</td>
                <td>{{ assetTrackerData.assetId }}</td>
                <td>{{ assetTrackerData.assetName }}</td>
                <td>{{ assetTrackerData.employeeId }}</td>
                <td>{{ assetTrackerData.employeeName }}</td>
                <td>{{ assetTrackerData.assignDate }}</td>
                <td>{{ assetTrackerData.returnDate }}</td>
                <td>{{ assetTrackerData.remark }}</td>
                <!-- <td>
                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"
                        (click)="openEditDialog(assetTrackerData)">Edit</button>
                </td> -->
                <td> <button mat-mini-fab  (click)="openEditDialog(assetTrackerData)">
                    <mat-icon>edit</mat-icon>
                </button></td>
                <!-- <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"
                >Edit</button>
        </td> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            <div class="flex align-items-center justify-content-between">In total there are {{
                assetTrackerFilterDatalist ?
                assetTrackerFilterDatalist.length : 0 }} records.</div>
        </ng-template>
    </p-table>